(this["webpackJsonpgrocery-app"]=this["webpackJsonpgrocery-app"]||[]).push([[0],{190:function(e,t,a){e.exports=a(380)},196:function(e,t,a){},380:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(4),i=a.n(r),o=(a(195),a(184)),c=a(159),s=a(160),m=a(185),d=a(188),u=a(387),h=a(77),b=a(389),f=a(393),p=a(392),g=a(383),y=a(174),E=a(384),v=a(385),k=a(390),C=a(394),S=a(22),_=a(388),x=a(386),w=a(391),I=(a(196),u.a.TabPane),O=h.a.Option,q=b.a.Title,T=b.a.Paragraph,j=f.a.TextArea,P={labelCol:{span:4},wrapperCol:{span:12}},N={wrapperCol:{offset:4,span:12}},D=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).formRef=l.a.createRef(),e.showModal=function(){0===e.state.table.length?p.a.error("Please enter items into the cart!",3):e.setState({visible:!0})},e.handleOk=function(t){if(""===e.state.selected_canteen||0===e.state.selected_name.length)p.a.error("Please enter all the details!",3);else{var a={Name:e.state.selected_name,Zone:e.state.selected_canteen,Order:e.state.table,Feedback:e.state.selected_feedback};console.log(a),e.setState({visible:!1,loading:!0},(function(){fetch("http://groceryappv1-env.eba-fbstmdmg.us-east-2.elasticbeanstalk.com/submit-order",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({loading:!1,submit_order_details:t,submit_visible:!0})})).catch((function(e){console.log(e)}))}))}},e.handleCancel=function(t){e.setState({visible:!1})},e.onItemChange=function(t){e.setState({item:t},(function(){for(var t in console.log(e.state.item),e.state.data)for(var a in e.state.data[t])e.state.data[t][a]["Item Name"]===e.state.item&&e.setState({price:e.state.data[t][a].Price,quantity:e.state.data[t][a].Tab,itemId:e.state.data[t][a]["Item Code"]})}))},e.onAmountChange=function(t){e.setState({selected_quantity:t})},e.onFinish=function(t){e.setState({kart:e.state.kart.concat([t])},(function(){e.setState({table:e.state.table.concat([{key:e.state.kart.length+1,item:e.state.item,quantity:e.state.selected_quantity,price:e.state.price,totalprice:(e.state.price*e.state.selected_quantity).toFixed(2),code:e.state.itemId}])})}))},e.onCanteenChange=function(t){console.log(t),e.setState({selected_canteen:t})},e.onNameChange=function(t){e.setState({selected_name:t.target.value})},e.onFeedbackChange=function(t){e.setState({selected_feedback:t.target.value})},e.cancel_order=function(e){},e.onTabChange=function(t){e.setState({price:0,item:"",selected_quantity:0})},e.handleDelete=function(t){var a=Object(o.a)(e.state.table);e.setState({table:a.filter((function(e){return e.key!==t}))})},e.handleSubmit=function(t){e.setState({submit_visible:!1},(function(){window.location.reload()}))},e.state={mode:"top",data:[],kart:[],item:"",price:0,quantity:0,selected_quantity:0,table:[],visible:!1,canteen_data:[],selected_canteen:"",selected_name:"",selected_feedback:"",itemId:"",submit_visible:!1,submit_order_details:[],loading:!1},e.columns=[{title:"Item",dataIndex:"item",key:"item",render:function(e){return l.a.createElement("b",null,e)}},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Price",dataIndex:"price",key:"price"},{title:"Total Price",dataIndex:"totalprice",key:"totalprice"},{title:"Delete",dataIndex:"operation",render:function(t,a){return e.state.table.length>=1?l.a.createElement(g.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},l.a.createElement(w.a,{style:{fontSize:"27px",color:"red",marginLeft:"10px"}})):null}}],e}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this;fetch("http://groceryappv1-env.eba-fbstmdmg.us-east-2.elasticbeanstalk.com/test",{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({data:t})})).catch((function(e){console.log(e)})),fetch("http://groceryappv1-env.eba-fbstmdmg.us-east-2.elasticbeanstalk.com/trial",{method:"GET"}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({canteen_data:t})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.mode.mode;return l.a.createElement("div",null,l.a.createElement(y.a,{size:"large",spinning:this.state.loading},l.a.createElement(E.a,null,l.a.createElement(v.a,{xs:1,sm:2,md:1,lg:1,xl:1}),l.a.createElement(v.a,{xs:22,sm:20,md:22,lg:22,xl:22},l.a.createElement(q,{level:2},"NSC Canteen Online Delivery Service"),l.a.createElement(q,{level:3},"Contact: +91-8082992508")),l.a.createElement(v.a,{xs:1,sm:2,md:1,lg:1,xl:1})),l.a.createElement(E.a,null,l.a.createElement(v.a,{xs:2,sm:2,md:2,lg:2,xl:1}),l.a.createElement(v.a,{xs:20,sm:20,md:20,lg:20,xl:22},l.a.createElement(u.a,{defaultActiveKey:"1",tabPosition:t,onChange:this.onTabChange,size:"large"},Object.keys(this.state.data).map((function(t){return l.a.createElement(I,{tab:"".concat(t),key:t},l.a.createElement(k.a,Object.assign({},P,{ref:e.formRef,name:"control-ref",onFinish:e.onFinish}),l.a.createElement(k.a.Item,{name:"Item",label:"Select from list and enter the quantity",rules:[{required:!0}]},l.a.createElement(h.a,{placeholder:"Select a item",onChange:e.onItemChange,allowClear:!0},e.state.data[t].map((function(e){return l.a.createElement(O,{value:e["Item Name"],key:e["Item Name"]},e["Item Name"])})))),l.a.createElement(C.a,{className:"alert-mesg",message:"Price per unit : "+e.state.price+"/-",type:"info"}),l.a.createElement(k.a.Item,{name:"Quantity",label:"Select the quantity",rules:[{required:!0}]},l.a.createElement(h.a,{placeholder:"Select the quantity of item",onChange:e.onAmountChange,allowClear:!0},Object.keys(e.state.quantity).map((function(t){return l.a.createElement(O,{value:e.state.quantity[t],key:e.state.quantity[t]},e.state.quantity[t])})))),l.a.createElement(k.a.Item,N,l.a.createElement(S.a,{type:"primary",htmlType:"submit"},"Submit"),l.a.createElement(S.a,{className:"checkout_but",htmlType:"button",onClick:e.showModal},"Check Out"),l.a.createElement(_.a,{title:"Confirm your Details to place Order",visible:e.state.visible,onOk:e.handleOk,onCancel:e.handleCancel},l.a.createElement(k.a,{layout:"vertical",ref:e.formRef,name:"control-ref"},l.a.createElement(k.a.Item,Object.assign({},null,{name:"Canteen",label:"Please select your desired drop point and time",rules:[{required:!0}]}),l.a.createElement(h.a,{placeholder:"Select a time",onChange:e.onCanteenChange,allowClear:!0},Object.keys(e.state.canteen_data).map((function(t){return Object.keys(e.state.canteen_data[t]).map((function(a){return l.a.createElement(O,{value:t+"!"+e.state.canteen_data[t][a],key:t+e.state.canteen_data[t][a]},t+" : "+e.state.canteen_data[t][a])}))})))),l.a.createElement(k.a.Item,{name:"name",label:"Please enter your name",rules:[{required:!0}]},l.a.createElement(f.a,{onChange:e.onNameChange,placeholder:"Enter your name"})),l.a.createElement(k.a.Item,{name:"feedback",label:"Please enter your feedback"},l.a.createElement(j,{onChange:e.onFeedbackChange,placeholder:"Enter your feedback",rows:4})))),l.a.createElement(_.a,{title:"Your Order Details",visible:e.state.submit_visible,onOk:e.handleSubmit,onCancel:e.handleSubmit,footer:[]},l.a.createElement("p",null,"Your order has been placed. Your order id is ",e.state.submit_order_details[0],"."),l.a.createElement("p",null,"Kindly meet our representative at ",e.state.submit_order_details[2]," during ",e.state.submit_order_details[3],"."),l.a.createElement("p",null,"Total price : ",e.state.submit_order_details[1]),l.a.createElement("p",null,"* Rs.3 packaging charges has been added.")))))})))),l.a.createElement(v.a,{xs:2,sm:2,md:2,lg:2,xl:1})),l.a.createElement(E.a,{style:{marginTop:"20px"}},l.a.createElement(v.a,{xs:2,sm:2,md:4,lg:4,xl:4}),l.a.createElement(v.a,{xs:20,sm:20,md:16,lg:16,xl:16},l.a.createElement(x.a,{columns:this.columns,dataSource:this.state.table,pagination:{pageSize:4}})),l.a.createElement(v.a,{xs:2,sm:2,md:4,lg:4,xl:4})),l.a.createElement(E.a,null,l.a.createElement(v.a,{xs:2,sm:2,md:2,lg:2,xl:2}),l.a.createElement(v.a,{xs:20,sm:20,md:20,lg:20,xl:20},l.a.createElement(T,null,"NSC is commencing home area delivery of CSD items in a few officers accommodation where there is no other CSD counter nearby. The item list has been kept to essentials. The same will be revised regularly as per availability of stock and suggestions from dependents. Feel free to call the officer incharge at +91-8082992508"),l.a.createElement(T,null,"The orders placed will be delivered the next day as per times displayed. 3 \u20b9 will be charged over and above the billing amount for packing material. Please give the exact amount to the delivery boy. This will avoid crowding and avoidable delays in the process."),l.a.createElement(T,null,"Stay In : Stay Safe !!!")),l.a.createElement(v.a,{xs:2,sm:2,md:2,lg:2,xl:2}))))}}]),a}(n.Component);var F=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[190,1,2]]]);
//# sourceMappingURL=main.d034f98a.chunk.js.map